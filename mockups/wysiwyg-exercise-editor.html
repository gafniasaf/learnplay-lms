<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WYSIWYG Exercise Editor - Mockup</title>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-dark: #0f0f14;
      --bg-card: #1a1a24;
      --bg-input: #252532;
      --border: #2d2d3a;
      --border-hover: #4a4a5a;
      --text-primary: #f0f0f5;
      --text-secondary: #9090a0;
      --text-muted: #606070;
      --accent-amber: #f59e0b;
      --accent-amber-light: #fbbf24;
      --accent-blue: #3b82f6;
      --accent-green: #22c55e;
      --accent-purple: #a855f7;
      --accent-red: #ef4444;
      --correct-bg: rgba(34, 197, 94, 0.1);
      --correct-border: #22c55e;
      --incorrect-bg: rgba(239, 68, 68, 0.05);
      --incorrect-border: #3a3a4a;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg-dark);
      color: var(--text-primary);
      min-height: 100vh;
      line-height: 1.5;
    }

    /* Compact Header */
    .header {
      background: var(--bg-card);
      border-bottom: 1px solid var(--border);
      padding: 6px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 100;
      height: 44px;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .back-btn {
      background: transparent;
      border: none;
      color: var(--text-secondary);
      padding: 6px 8px;
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 13px;
      transition: all 0.2s;
    }

    .back-btn:hover {
      background: var(--bg-input);
      color: var(--text-primary);
    }

    .header-title {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .header-title h1 {
      font-size: 14px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .header-title span {
      font-size: 11px;
      color: var(--text-muted);
    }

    .badge-ec {
      background: var(--accent-amber);
      color: #000;
      font-size: 9px;
      font-weight: 600;
      padding: 2px 6px;
      border-radius: 3px;
    }

    .header-center {
      display: flex;
      align-items: center;
      gap: 4px;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }

    .mode-toggle {
      display: flex;
      background: var(--bg-input);
      border-radius: 6px;
      padding: 2px;
    }

    .mode-btn {
      padding: 4px 12px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      border: none;
      background: transparent;
      color: var(--text-secondary);
    }

    .mode-btn.active {
      background: var(--bg-card);
      color: var(--text-primary);
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }

    .mode-btn:hover:not(.active) {
      color: var(--text-primary);
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn {
      padding: 5px 12px;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 4px;
      transition: all 0.2s;
      border: none;
    }

    .btn-ghost {
      background: transparent;
      color: var(--text-secondary);
      padding: 5px 8px;
    }

    .btn-ghost:hover {
      background: var(--bg-input);
      color: var(--text-primary);
    }

    .btn-outline {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text-secondary);
    }

    .btn-outline:hover {
      border-color: var(--border-hover);
      color: var(--text-primary);
    }

    .btn-primary {
      background: var(--accent-purple);
      color: #fff;
    }

    .btn-primary:hover {
      background: #9333ea;
    }

    .save-status {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 11px;
      color: var(--text-muted);
    }

    .save-status .dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--accent-green);
    }

    /* Content Tabs */
    .content-tabs {
      display: flex;
      gap: 0;
      padding: 0 16px;
      background: var(--bg-card);
      border-bottom: 1px solid var(--border);
    }

    .tab-btn {
      padding: 10px 20px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      border: none;
      background: transparent;
      color: var(--text-secondary);
      border-bottom: 2px solid transparent;
      margin-bottom: -1px;
    }

    .tab-btn:hover {
      color: var(--text-primary);
    }

    .tab-btn.active {
      color: var(--accent-green);
      border-bottom-color: var(--accent-green);
    }

    /* Main Layout with Sidebar */
    .main-layout {
      display: flex;
      height: calc(100vh - 88px);
      overflow: hidden;
    }

    /* Sidebar */
    .sidebar {
      width: 220px;
      background: var(--bg-card);
      border-right: 1px solid var(--border);
      padding: 16px;
      overflow-y: auto;
      flex-shrink: 0;
    }

    .sidebar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .sidebar-title {
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 1px;
      color: var(--text-muted);
    }

    .sidebar-progress {
      font-size: 11px;
      color: var(--text-secondary);
    }

    .progress-bar {
      height: 4px;
      background: var(--bg-input);
      border-radius: 2px;
      margin-bottom: 16px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--accent-green);
      border-radius: 2px;
    }

    .sidebar-list {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .sidebar-item {
      padding: 10px 12px;
      font-size: 11px;
      font-weight: 500;
      color: var(--text-secondary);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
      line-height: 1.4;
    }

    .sidebar-item:hover {
      background: var(--bg-input);
      color: var(--text-primary);
    }

    .sidebar-item.active {
      background: var(--bg-input);
      color: var(--text-primary);
      border-left: 3px solid var(--accent-amber);
    }

    /* Main Editor Container */
    .editor-container {
      flex: 1;
      overflow-y: auto;
      padding: 16px 32px;
      max-width: 900px;
      margin: 0 auto;
    }

    /* Student View Bar */
    .student-view-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 16px;
      background: var(--bg-input);
      border-radius: 8px;
      margin-bottom: 16px;
      font-size: 11px;
      font-weight: 600;
      color: var(--text-muted);
      letter-spacing: 0.5px;
    }

    .btn-sm {
      padding: 4px 10px;
      font-size: 11px;
    }

    /* Exercise Card */
    .exercise-card {
      background: var(--bg-card);
      border-radius: 16px;
      border: 1px solid var(--border);
      overflow: hidden;
    }

    /* Exercise Header */
    .exercise-header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .exercise-meta {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .exercise-number {
      background: var(--accent-amber);
      color: #000;
      font-size: 14px;
      font-weight: 700;
      width: 32px;
      height: 32px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .exercise-type {
      font-size: 12px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .exercise-actions {
      display: flex;
      gap: 8px;
    }

    .icon-btn {
      background: var(--bg-input);
      border: 1px solid var(--border);
      color: var(--text-secondary);
      width: 36px;
      height: 36px;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }

    .icon-btn:hover {
      border-color: var(--border-hover);
      color: var(--text-primary);
      background: var(--bg-dark);
    }

    /* Stem Section */
    .stem-section {
      padding: 24px;
      border-bottom: 1px solid var(--border);
    }

    .section-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--text-muted);
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .editable-content {
      position: relative;
    }

    .editable-text {
      background: var(--bg-input);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px 20px;
      color: var(--text-primary);
      font-size: 16px;
      line-height: 1.6;
      min-height: 60px;
      cursor: text;
      transition: all 0.2s;
    }

    .editable-text:hover {
      border-color: var(--border-hover);
    }

    .editable-text:focus {
      outline: none;
      border-color: var(--accent-amber);
      box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
    }

    .editable-text[contenteditable="true"] {
      outline: none;
    }

    /* Inline Toolbar */
    .inline-toolbar {
      display: flex;
      gap: 4px;
      margin-top: 8px;
      opacity: 0.6;
      transition: opacity 0.2s;
    }

    .editable-content:hover .inline-toolbar,
    .editable-content:focus-within .inline-toolbar {
      opacity: 1;
    }

    .toolbar-btn {
      background: var(--bg-input);
      border: 1px solid var(--border);
      color: var(--text-secondary);
      padding: 6px 10px;
      border-radius: 6px;
      font-size: 12px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 4px;
      transition: all 0.2s;
    }

    .toolbar-btn:hover {
      border-color: var(--accent-amber);
      color: var(--accent-amber);
      background: rgba(245, 158, 11, 0.1);
    }

    .toolbar-btn.ai {
      border-color: var(--accent-purple);
      color: var(--accent-purple);
    }

    .toolbar-btn.ai:hover {
      background: rgba(168, 85, 247, 0.1);
    }

    /* Image Container */
    .image-container {
      margin-top: 16px;
      position: relative;
    }

    .image-placeholder {
      background: var(--bg-input);
      border: 2px dashed var(--border);
      border-radius: 12px;
      padding: 32px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
    }

    .image-placeholder:hover {
      border-color: var(--accent-amber);
      background: rgba(245, 158, 11, 0.05);
    }

    .image-placeholder-icon {
      font-size: 32px;
      margin-bottom: 8px;
    }

    .image-placeholder-text {
      color: var(--text-muted);
      font-size: 14px;
    }

    .image-placeholder-actions {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-top: 12px;
    }

    .stem-image {
      width: 100%;
      max-height: 300px;
      object-fit: contain;
      border-radius: 12px;
      background: var(--bg-input);
    }

    .image-overlay {
      position: absolute;
      top: 8px;
      right: 8px;
      display: flex;
      gap: 4px;
    }

    /* Options Section */
    .options-section {
      padding: 24px;
    }

    .options-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }

    .option-tile {
      background: var(--bg-input);
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }

    .option-tile:hover {
      border-color: var(--border-hover);
    }

    .option-tile.correct {
      border-color: var(--correct-border);
      background: var(--correct-bg);
    }

    .option-tile.correct::before {
      content: '‚úì';
      position: absolute;
      top: 8px;
      right: 8px;
      background: var(--accent-green);
      color: #000;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
    }

    .option-letter {
      font-size: 12px;
      font-weight: 600;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    .option-content {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .option-image-slot {
      width: 100%;
      aspect-ratio: 16/10;
      background: var(--bg-dark);
      border: 1px dashed var(--border);
      border-radius: 8px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 8px;
      cursor: pointer;
      transition: all 0.2s;
      overflow: hidden;
    }

    .option-image-slot:hover {
      border-color: var(--accent-amber);
    }

    .option-image-slot img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .option-image-slot .placeholder-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      color: var(--text-muted);
      font-size: 12px;
    }

    .option-text {
      background: transparent;
      border: 1px solid transparent;
      border-radius: 6px;
      padding: 8px;
      color: var(--text-primary);
      font-size: 14px;
      width: 100%;
      transition: all 0.2s;
    }

    .option-text:hover {
      background: var(--bg-dark);
      border-color: var(--border);
    }

    .option-text:focus {
      outline: none;
      border-color: var(--accent-amber);
      background: var(--bg-dark);
    }

    .option-toolbar {
      display: flex;
      gap: 4px;
      margin-top: 8px;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .option-tile:hover .option-toolbar {
      opacity: 1;
    }

    .option-toolbar .toolbar-btn {
      padding: 4px 8px;
      font-size: 11px;
    }

    /* Explanation Section */
    .explanation-section {
      padding: 24px;
      border-top: 1px solid var(--border);
      background: rgba(34, 197, 94, 0.03);
    }

    .explanation-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .explanation-toggle {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .toggle-switch {
      width: 40px;
      height: 22px;
      background: var(--bg-input);
      border-radius: 11px;
      position: relative;
      cursor: pointer;
      transition: all 0.2s;
    }

    .toggle-switch.active {
      background: var(--accent-green);
    }

    .toggle-switch::after {
      content: '';
      position: absolute;
      width: 18px;
      height: 18px;
      background: white;
      border-radius: 50%;
      top: 2px;
      left: 2px;
      transition: all 0.2s;
    }

    .toggle-switch.active::after {
      left: 20px;
    }

    .explanation-content {
      background: var(--bg-input);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
    }

    .explanation-text {
      color: var(--text-primary);
      font-size: 14px;
      line-height: 1.6;
    }

    .explanation-text[contenteditable="true"]:focus {
      outline: none;
    }

    /* Footer Navigation */
    .footer-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 24px;
      border-top: 1px solid var(--border);
    }

    .exercise-counter {
      color: var(--text-muted);
      font-size: 14px;
    }

    .nav-buttons {
      display: flex;
      gap: 8px;
    }

    /* AI Menu Dropdown */
    .ai-menu {
      position: absolute;
      top: 100%;
      left: 0;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 8px;
      min-width: 200px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.4);
      z-index: 50;
      display: none;
    }

    .ai-menu.show {
      display: block;
    }

    .ai-menu-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      color: var(--text-secondary);
      font-size: 13px;
    }

    .ai-menu-item:hover {
      background: var(--bg-input);
      color: var(--text-primary);
    }

    .ai-menu-item .icon {
      width: 20px;
      text-align: center;
    }

    /* Hamburger Menu Styling */
    .hamburger-menu {
      position: fixed;
      top: 0;
      left: 0;
      width: 280px;
      height: 100vh;
      background: var(--bg-card);
      border-right: 1px solid var(--border);
      z-index: 200;
      transform: translateX(-100%);
      transition: transform 0.3s ease;
      padding: 24px;
    }

    .hamburger-menu.open {
      transform: translateX(0);
    }

    .menu-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 199;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
    }

    .menu-overlay.open {
      opacity: 1;
      pointer-events: auto;
    }

    .menu-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 32px;
    }

    .menu-logo {
      font-size: 20px;
      font-weight: 700;
      color: var(--accent-amber);
    }

    .menu-close {
      background: none;
      border: none;
      color: var(--text-secondary);
      font-size: 24px;
      cursor: pointer;
    }

    .menu-section {
      margin-bottom: 24px;
    }

    .menu-section-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--text-muted);
      margin-bottom: 12px;
    }

    .menu-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s;
      color: var(--text-secondary);
      font-size: 14px;
      margin-bottom: 4px;
    }

    .menu-item:hover {
      background: var(--bg-input);
      color: var(--text-primary);
    }

    .menu-item.active {
      background: var(--accent-amber);
      color: #000;
    }

    .menu-item .icon {
      font-size: 18px;
    }

    /* Status indicator */
    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--accent-green);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .options-grid {
        grid-template-columns: 1fr;
      }
      
      .editor-container {
        padding: 16px;
      }
    }
  </style>
</head>
<body>
  <!-- Hamburger Menu -->
  <div class="menu-overlay" id="menuOverlay" onclick="toggleMenu()"></div>
  <nav class="hamburger-menu" id="hamburgerMenu">
    <div class="menu-header">
      <div class="menu-logo">‚ú¶ Ignite Zero</div>
      <button class="menu-close" onclick="toggleMenu()">√ó</button>
    </div>
    
    <div class="menu-section">
      <div class="menu-section-title">Content Creation</div>
      <div class="menu-item" onclick="window.location.href='#'">
        <span class="icon">üìö</span>
        Course Editor
      </div>
      <div class="menu-item active">
        <span class="icon">‚úèÔ∏è</span>
        Exercise Studio
      </div>
      <div class="menu-item" onclick="window.location.href='#'">
        <span class="icon">üéØ</span>
        Quiz Builder
      </div>
    </div>
    
    <div class="menu-section">
      <div class="menu-section-title">Expertcollege</div>
      <div class="menu-item" onclick="window.location.href='#'">
        <span class="icon">‚ö°</span>
        Exercise Generator
      </div>
      <div class="menu-item" onclick="window.location.href='#'">
        <span class="icon">üìù</span>
        Study Text Importer
      </div>
    </div>
    
    <div class="menu-section">
      <div class="menu-section-title">Tools</div>
      <div class="menu-item" onclick="window.location.href='#'">
        <span class="icon">üñºÔ∏è</span>
        Media Library
      </div>
      <div class="menu-item" onclick="window.location.href='#'">
        <span class="icon">üìä</span>
        Analytics
      </div>
    </div>
  </nav>

  <!-- Compact Header -->
  <header class="header">
    <div class="header-left">
      <button class="back-btn" onclick="toggleMenu()">‚ò∞</button>
      <button class="back-btn">‚Üê</button>
      <div class="header-title">
        <h1>15.2 Organisatie van het autonome zenuwstelsel</h1>
        <span class="badge-ec">HBO</span>
        <span style="color: var(--text-muted); font-size: 11px; margin-left: 4px;">Saved</span>
      </div>
    </div>
    
    <div class="header-center">
      <div class="mode-toggle">
        <button class="mode-btn">üìä Overview</button>
        <button class="mode-btn active">‚úèÔ∏è Focus</button>
      </div>
    </div>

    <div class="header-actions">
      <button class="btn btn-ghost">‚åò</button>
      <button class="btn btn-ghost">üëÅ Preview</button>
      <div class="save-status">
        <span class="dot"></span>
        All saved
      </div>
      <button class="btn btn-primary">Publish</button>
    </div>
  </header>

  <!-- Content Tabs + Sidebar -->
  <div class="content-tabs">
    <button class="tab-btn active">üìù Exercises</button>
    <button class="tab-btn">üìñ Study Texts</button>
  </div>

  <!-- Main Layout with Sidebar -->
  <div class="main-layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <span class="sidebar-title">EXERCISES</span>
        <span class="sidebar-progress">6/6</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" style="width: 100%"></div>
      </div>
      <div class="sidebar-list">
        <div class="sidebar-item">15.2 ORGANISATIE VAN HET AUTONOME ZENUWSTELSEL: FOUNDATIONS</div>
        <div class="sidebar-item active">15.2 ORGANISATIE VAN HET AUTONOME ZENUWSTELSEL: APPLY</div>
        <div class="sidebar-item">15.2 ORGANISATIE VAN HET AUTONOME ZENUWSTELSEL: CLINICAL</div>
      </div>
    </aside>

    <!-- Main Editor -->
    <main class="editor-container">
      <!-- Student View Header -->
      <div class="student-view-bar">
        <span>üëÅ STUDENT VIEW</span>
        <button class="btn btn-outline btn-sm">‚Üê Back to Editor</button>
      </div>
    <div class="exercise-card">
      <!-- Exercise Header -->
      <div class="exercise-header">
        <div class="exercise-meta">
          <div class="exercise-number">3</div>
          <div>
            <div style="font-weight: 600; font-size: 15px;">Multiple Choice</div>
            <div class="exercise-type">Single answer</div>
          </div>
        </div>
        <div class="exercise-actions">
          <button class="icon-btn" title="Duplicate">üìã</button>
          <button class="icon-btn" title="Move up">‚Üë</button>
          <button class="icon-btn" title="Move down">‚Üì</button>
          <button class="icon-btn" title="Delete" style="color: var(--accent-red);">üóëÔ∏è</button>
        </div>
      </div>

      <!-- Stem Section -->
      <div class="stem-section">
        <div class="section-label">
          <span>Question Stem</span>
        </div>
        <div class="editable-content">
          <div class="editable-text" contenteditable="true">
            Welke structuur is verantwoordelijk voor de productie van progesteron tijdens de luteale fase van de menstruatiecyclus?
          </div>
          <div class="inline-toolbar">
            <button class="toolbar-btn">ùêÅ</button>
            <button class="toolbar-btn">ùêº</button>
            <button class="toolbar-btn">UÃ≤</button>
            <button class="toolbar-btn" style="margin-left: 8px;">üîó Link</button>
            <button class="toolbar-btn ai" onclick="showAIMenu(this)">
              ‚ú® AI Rewrite
            </button>
          </div>
          
          <!-- Image Container -->
          <div class="image-container">
            <div class="image-placeholder" onclick="this.style.display='none'; this.nextElementSibling.style.display='block';">
              <div class="image-placeholder-icon">üñºÔ∏è</div>
              <div class="image-placeholder-text">Add image to question (optional)</div>
              <div class="image-placeholder-actions">
                <button class="toolbar-btn">üìÅ Upload</button>
                <button class="toolbar-btn ai">‚ú® AI Generate</button>
              </div>
            </div>
            <div style="display: none; position: relative;">
              <img class="stem-image" src="https://images.unsplash.com/photo-1559757175-5700dde675bc?w=800&h=400&fit=crop" alt="Anatomical diagram">
              <div class="image-overlay">
                <button class="icon-btn" style="width: 28px; height: 28px; font-size: 12px;" title="Replace">üîÑ</button>
                <button class="icon-btn" style="width: 28px; height: 28px; font-size: 12px;" title="Remove">‚úï</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Options Section -->
      <div class="options-section">
        <div class="section-label">
          <span>Answer Options</span>
          <span style="margin-left: auto; font-size: 12px; color: var(--accent-green);">‚úì 1 correct answer selected</span>
        </div>
        
        <div class="options-grid">
          <!-- Option A -->
          <div class="option-tile correct">
            <div class="option-letter">A</div>
            <div class="option-content">
              <div class="option-image-slot" onclick="this.innerHTML='<img src=\'https://images.unsplash.com/photo-1530026405186-ed1f139313f8?w=400&h=250&fit=crop\' alt=\'Corpus luteum\'>'">
                <img src="https://images.unsplash.com/photo-1530026405186-ed1f139313f8?w=400&h=250&fit=crop" alt="Corpus luteum">
              </div>
              <input type="text" class="option-text" value="Corpus luteum" placeholder="Enter option text...">
              <div class="option-toolbar">
                <button class="toolbar-btn">üìÅ</button>
                <button class="toolbar-btn ai">‚ú®</button>
                <button class="toolbar-btn" style="margin-left: auto; color: var(--accent-green);">‚úì Correct</button>
              </div>
            </div>
          </div>

          <!-- Option B -->
          <div class="option-tile">
            <div class="option-letter">B</div>
            <div class="option-content">
              <div class="option-image-slot">
                <div class="placeholder-content">
                  <span>üñºÔ∏è</span>
                  <span>Add image</span>
                </div>
              </div>
              <input type="text" class="option-text" value="Follikel" placeholder="Enter option text...">
              <div class="option-toolbar">
                <button class="toolbar-btn">üìÅ</button>
                <button class="toolbar-btn ai">‚ú®</button>
                <button class="toolbar-btn" style="margin-left: auto;">Set correct</button>
              </div>
            </div>
          </div>

          <!-- Option C -->
          <div class="option-tile">
            <div class="option-letter">C</div>
            <div class="option-content">
              <div class="option-image-slot">
                <div class="placeholder-content">
                  <span>üñºÔ∏è</span>
                  <span>Add image</span>
                </div>
              </div>
              <input type="text" class="option-text" value="Endometrium" placeholder="Enter option text...">
              <div class="option-toolbar">
                <button class="toolbar-btn">üìÅ</button>
                <button class="toolbar-btn ai">‚ú®</button>
                <button class="toolbar-btn" style="margin-left: auto;">Set correct</button>
              </div>
            </div>
          </div>

          <!-- Option D -->
          <div class="option-tile">
            <div class="option-letter">D</div>
            <div class="option-content">
              <div class="option-image-slot">
                <div class="placeholder-content">
                  <span>üñºÔ∏è</span>
                  <span>Add image</span>
                </div>
              </div>
              <input type="text" class="option-text" value="Hypofyse" placeholder="Enter option text...">
              <div class="option-toolbar">
                <button class="toolbar-btn">üìÅ</button>
                <button class="toolbar-btn ai">‚ú®</button>
                <button class="toolbar-btn" style="margin-left: auto;">Set correct</button>
              </div>
            </div>
          </div>
        </div>

        <button class="btn btn-outline" style="margin-top: 16px; width: 100%; justify-content: center;">
          + Add Option
        </button>
      </div>

      <!-- Explanation Section -->
      <div class="explanation-section">
        <div class="explanation-header">
          <div class="section-label" style="margin-bottom: 0;">
            <span>üí° Explanation (shown after answer)</span>
          </div>
          <div class="explanation-toggle">
            <span style="font-size: 12px; color: var(--text-muted);">Enabled</span>
            <div class="toggle-switch active"></div>
          </div>
        </div>
        <div class="explanation-content">
          <div class="explanation-text" contenteditable="true">
            Het <strong>corpus luteum</strong> (gele lichaam) is de structuur die ontstaat uit de geruptureerde follikel na de ovulatie. Het produceert progesteron tijdens de luteale fase, wat essentieel is voor het voorbereiden van het endometrium op een mogelijke innesteling van een bevruchte eicel.
          </div>
          <div class="inline-toolbar" style="margin-top: 12px;">
            <button class="toolbar-btn">ùêÅ</button>
            <button class="toolbar-btn">ùêº</button>
            <button class="toolbar-btn ai">‚ú® AI Improve</button>
            <button class="toolbar-btn ai">üìù AI Generate</button>
          </div>
        </div>
      </div>

      <!-- Footer Navigation -->
      <div class="footer-nav">
        <button class="btn btn-outline">‚Üê Previous</button>
        <div class="exercise-counter">
          Exercise 3 of 12
        </div>
        <button class="btn btn-outline">Next ‚Üí</button>
      </div>
    </div>
    </main>
  </div>

  <script>
    function toggleMenu() {
      document.getElementById('hamburgerMenu').classList.toggle('open');
      document.getElementById('menuOverlay').classList.toggle('open');
    }

    function showAIMenu(button) {
      // Simple toggle for demo
      const existingMenu = document.querySelector('.ai-menu.show');
      if (existingMenu) {
        existingMenu.remove();
        return;
      }

      const menu = document.createElement('div');
      menu.className = 'ai-menu show';
      menu.innerHTML = `
        <div class="ai-menu-item"><span class="icon">‚ú®</span> Simplify</div>
        <div class="ai-menu-item"><span class="icon">üìù</span> Make formal</div>
        <div class="ai-menu-item"><span class="icon">üéØ</span> Make clearer</div>
        <div class="ai-menu-item"><span class="icon">üåê</span> Translate to English</div>
        <div class="ai-menu-item"><span class="icon">üîÑ</span> Regenerate</div>
      `;
      button.style.position = 'relative';
      button.appendChild(menu);

      // Close on click outside
      setTimeout(() => {
        document.addEventListener('click', function closeMenu(e) {
          if (!menu.contains(e.target) && e.target !== button) {
            menu.remove();
            document.removeEventListener('click', closeMenu);
          }
        });
      }, 0);
    }

    // Make toggle switches interactive
    document.querySelectorAll('.toggle-switch').forEach(toggle => {
      toggle.addEventListener('click', function() {
        this.classList.toggle('active');
      });
    });
  </script>
</body>
</html>

