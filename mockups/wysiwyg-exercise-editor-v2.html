<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exercise Studio - WYSIWYG Editor</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #fafbfc;
      --bg-gradient-from: rgba(107, 92, 205, 0.05);
      --bg-gradient-to: rgba(147, 51, 234, 0.05);
      --card-bg: #ffffff;
      --border: #e5e7eb;
      --text: #1f2937;
      --text-muted: #6b7280;
      --primary: #6b5ccd;
      --primary-hover: #5a4bb8;
      --green: #22c55e;
      --green-bg: rgba(34, 197, 94, 0.1);
      --amber: #f59e0b;
      --red: #ef4444;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, var(--bg-gradient-from) 0%, var(--bg) 50%, var(--bg-gradient-to) 100%);
      min-height: 100vh;
      color: var(--text);
    }

    /* Minimal Header - matching screenshot */
    .header {
      background: var(--card-bg);
      border-bottom: 1px solid var(--border);
      padding: 8px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 48px;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo {
      font-size: 20px;
    }

    .back-btn {
      background: none;
      border: none;
      font-size: 18px;
      cursor: pointer;
      padding: 4px 8px;
      color: var(--text);
    }

    .title-group {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .title {
      font-size: 14px;
      font-weight: 600;
    }

    .badge {
      background: #f3f4f6;
      color: var(--text-muted);
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 4px;
      font-weight: 500;
    }

    .header-center {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }

    .mode-toggle {
      display: flex;
      background: #f3f4f6;
      border-radius: 8px;
      padding: 3px;
      gap: 2px;
    }

    .mode-btn {
      padding: 6px 14px;
      border: none;
      background: transparent;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      color: var(--text-muted);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .mode-btn.active {
      background: white;
      color: var(--text);
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .icon-btn {
      background: none;
      border: none;
      font-size: 16px;
      cursor: pointer;
      padding: 6px;
      color: var(--text-muted);
    }

    .preview-btn {
      display: flex;
      align-items: center;
      gap: 4px;
      background: none;
      border: none;
      font-size: 13px;
      cursor: pointer;
      color: var(--text-muted);
    }

    .save-status {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: var(--text-muted);
    }

    .save-dot {
      width: 6px;
      height: 6px;
      background: var(--green);
      border-radius: 50%;
    }

    .publish-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 6px 16px;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
    }

    .publish-btn:hover {
      background: var(--primary-hover);
    }

    /* Tabs */
    .tabs {
      background: var(--card-bg);
      border-bottom: 1px solid var(--border);
      padding: 0 16px;
      display: flex;
      gap: 0;
    }

    .tab {
      padding: 12px 16px;
      border: none;
      background: none;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      color: var(--text-muted);
      border-bottom: 2px solid transparent;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .tab.active {
      color: var(--green);
      border-bottom-color: var(--green);
    }

    /* Main Layout */
    .main-layout {
      display: flex;
      height: calc(100vh - 90px);
    }

    /* Sidebar */
    .sidebar {
      width: 240px;
      background: var(--card-bg);
      border-right: 1px solid var(--border);
      padding: 16px;
      overflow-y: auto;
    }

    .sidebar-section {
      margin-bottom: 20px;
    }

    .sidebar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .sidebar-title {
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.5px;
      color: var(--text-muted);
      text-transform: uppercase;
    }

    .sidebar-count {
      font-size: 11px;
      color: var(--text-muted);
    }

    .progress-bar {
      height: 4px;
      background: #e5e7eb;
      border-radius: 2px;
      margin-bottom: 12px;
    }

    .progress-fill {
      height: 100%;
      background: var(--green);
      border-radius: 2px;
      width: 100%;
    }

    .sidebar-item {
      padding: 10px 12px;
      font-size: 11px;
      color: var(--text-muted);
      border-radius: 6px;
      cursor: pointer;
      margin-bottom: 4px;
      line-height: 1.4;
      font-weight: 500;
    }

    .sidebar-item:hover {
      background: #f3f4f6;
    }

    .sidebar-item.active {
      background: #f3f4f6;
      color: var(--text);
      border-left: 3px solid var(--amber);
      padding-left: 9px;
    }

    /* Editor Content */
    .editor-content {
      flex: 1;
      overflow-y: auto;
      padding: 24px;
    }

    /* Student View Bar */
    .student-view-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 800px;
      margin: 0 auto 16px;
    }

    .student-view-label {
      font-size: 11px;
      font-weight: 600;
      color: var(--text-muted);
      letter-spacing: 0.5px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .back-to-editor-btn {
      background: none;
      border: 1px solid var(--border);
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 12px;
      cursor: pointer;
      color: var(--text);
    }

    /* Exercise Container - matches Play.tsx */
    .exercise-container {
      max-width: 800px;
      margin: 0 auto;
    }

    /* Stem Card - WYSIWYG editable */
    .stem-card {
      background: var(--card-bg);
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.08);
      position: relative;
    }

    .stem-text {
      font-size: 18px;
      line-height: 1.6;
      color: var(--text);
      min-height: 60px;
      outline: none;
      border: 2px solid transparent;
      border-radius: 8px;
      padding: 8px;
      margin: -8px;
      transition: all 0.2s;
    }

    .stem-text:hover {
      background: #f9fafb;
      border-color: #e5e7eb;
    }

    .stem-text:focus {
      background: #f9fafb;
      border-color: var(--primary);
    }

    /* Stem Image */
    .stem-image-container {
      margin-top: 16px;
      position: relative;
      border-radius: 12px;
      overflow: hidden;
    }

    .stem-image {
      width: 100%;
      max-height: 300px;
      object-fit: cover;
      border-radius: 12px;
    }

    .stem-image-placeholder {
      background: #f3f4f6;
      border: 2px dashed #d1d5db;
      border-radius: 12px;
      padding: 32px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
    }

    .stem-image-placeholder:hover {
      border-color: var(--primary);
      background: rgba(107, 92, 205, 0.05);
    }

    /* Inline Edit Toolbar */
    .edit-toolbar {
      display: flex;
      gap: 4px;
      margin-top: 12px;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .stem-card:hover .edit-toolbar,
    .stem-card:focus-within .edit-toolbar {
      opacity: 1;
    }

    .toolbar-btn {
      background: #f3f4f6;
      border: 1px solid #e5e7eb;
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 12px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 4px;
      color: var(--text-muted);
      transition: all 0.2s;
    }

    .toolbar-btn:hover {
      background: #e5e7eb;
      color: var(--text);
    }

    .toolbar-btn.ai {
      background: rgba(168, 85, 247, 0.1);
      border-color: rgba(168, 85, 247, 0.2);
      color: #9333ea;
    }

    .toolbar-btn.ai:hover {
      background: rgba(168, 85, 247, 0.2);
    }

    /* Options Grid - matches OptionGrid.tsx */
    .options-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }

    /* Option Tile - WYSIWYG editable */
    .option-tile {
      background: var(--card-bg);
      border: 2px solid var(--border);
      border-radius: 16px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }

    .option-tile:hover {
      border-color: #d1d5db;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transform: translateY(-2px);
    }

    .option-tile.correct {
      border-color: var(--green);
      background: var(--green-bg);
    }

    .option-tile.correct::after {
      content: '‚úì';
      position: absolute;
      top: 8px;
      right: 8px;
      background: var(--green);
      color: white;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: bold;
      z-index: 10;
    }

    /* Option Image */
    .option-image-container {
      aspect-ratio: 16/10;
      background: #f9fafb;
      position: relative;
      overflow: hidden;
    }

    .option-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .option-image-placeholder {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 8px;
      color: var(--text-muted);
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .option-image-placeholder:hover {
      background: rgba(107, 92, 205, 0.05);
      color: var(--primary);
    }

    .option-image-icon {
      font-size: 24px;
      opacity: 0.5;
    }

    /* Option Image Overlay */
    .image-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .option-image-container:hover .image-overlay {
      opacity: 1;
    }

    .overlay-btn {
      background: white;
      border: none;
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 12px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .overlay-btn.ai {
      background: #9333ea;
      color: white;
    }

    /* Option Text */
    .option-text-container {
      padding: 16px;
    }

    .option-text {
      font-size: 15px;
      font-weight: 500;
      color: var(--text);
      outline: none;
      border: 2px solid transparent;
      border-radius: 6px;
      padding: 6px;
      margin: -6px;
      display: block;
      width: 100%;
      transition: all 0.2s;
    }

    .option-text:hover {
      background: #f9fafb;
      border-color: #e5e7eb;
    }

    .option-text:focus {
      background: #f9fafb;
      border-color: var(--primary);
    }

    /* Option Toolbar */
    .option-toolbar {
      display: flex;
      gap: 4px;
      padding: 0 16px 12px;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .option-tile:hover .option-toolbar {
      opacity: 1;
    }

    .option-toolbar .toolbar-btn {
      padding: 3px 8px;
      font-size: 11px;
    }

    .set-correct-btn {
      margin-left: auto;
      color: var(--green);
      border-color: var(--green);
      background: var(--green-bg);
    }

    /* Explanation Card */
    .explanation-card {
      background: var(--card-bg);
      border-radius: 16px;
      padding: 20px 24px;
      margin-top: 24px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.08);
      border-left: 4px solid var(--green);
    }

    .explanation-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .explanation-label {
      font-size: 13px;
      font-weight: 600;
      color: var(--green);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .toggle-switch {
      width: 36px;
      height: 20px;
      background: var(--green);
      border-radius: 10px;
      position: relative;
      cursor: pointer;
    }

    .toggle-switch::after {
      content: '';
      position: absolute;
      width: 16px;
      height: 16px;
      background: white;
      border-radius: 50%;
      top: 2px;
      right: 2px;
      transition: all 0.2s;
    }

    .explanation-text {
      font-size: 14px;
      line-height: 1.6;
      color: var(--text);
      outline: none;
      border: 2px solid transparent;
      border-radius: 8px;
      padding: 8px;
      margin: -8px;
      transition: all 0.2s;
    }

    .explanation-text:hover {
      background: #f0fdf4;
      border-color: rgba(34, 197, 94, 0.3);
    }

    .explanation-text:focus {
      background: #f0fdf4;
      border-color: var(--green);
    }

    /* Navigation */
    .exercise-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 800px;
      margin: 24px auto 0;
      padding: 16px 0;
      border-top: 1px solid var(--border);
    }

    .nav-btn {
      background: none;
      border: 1px solid var(--border);
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 13px;
      cursor: pointer;
      color: var(--text);
    }

    .nav-btn:hover {
      background: #f3f4f6;
    }

    .nav-counter {
      font-size: 13px;
      color: var(--text-muted);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .options-grid {
        grid-template-columns: 1fr;
      }
      .sidebar {
        display: none;
      }
      .header-center {
        display: none;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-left">
      <span class="logo">‚ú¶</span>
      <button class="back-btn">‚Äπ</button>
      <div class="title-group">
        <span class="title">15.2 Organisatie van het autonome zenuwstelsel</span>
        <span class="badge">HBO</span>
        <span class="badge">Saved</span>
      </div>
    </div>

    <div class="header-center">
      <div class="mode-toggle">
        <button class="mode-btn">üìä Overview</button>
        <button class="mode-btn active">‚úèÔ∏è Focus</button>
      </div>
    </div>

    <div class="header-right">
      <button class="icon-btn">‚åò</button>
      <button class="preview-btn">üëÅ Preview</button>
      <div class="save-status">
        <span class="save-dot"></span>
        All saved
      </div>
      <button class="publish-btn">Publish</button>
    </div>
  </header>

  <!-- Tabs -->
  <div class="tabs">
    <button class="tab active">üìù Exercises</button>
    <button class="tab">üìñ Study Texts</button>
  </div>

  <!-- Main Layout -->
  <div class="main-layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-section">
        <div class="sidebar-header">
          <span class="sidebar-title">Exercises</span>
          <span class="sidebar-count">6/6</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill"></div>
        </div>
        <div class="sidebar-item">15.2 ORGANISATIE VAN HET AUTONOME ZENUWSTELSEL: FOUNDATIONS</div>
        <div class="sidebar-item active">15.2 ORGANISATIE VAN HET AUTONOME ZENUWSTELSEL: APPLY</div>
        <div class="sidebar-item">15.2 ORGANISATIE VAN HET AUTONOME ZENUWSTELSEL: CLINICAL</div>
      </div>
    </aside>

    <!-- Editor Content -->
    <main class="editor-content">
      <!-- Student View Bar -->
      <div class="student-view-bar">
        <span class="student-view-label">üëÅ STUDENT VIEW</span>
        <button class="back-to-editor-btn">‚Üê Back to Editor</button>
      </div>

      <!-- Exercise Container -->
      <div class="exercise-container">
        <!-- Stem Card -->
        <div class="stem-card">
          <div class="stem-text" contenteditable="true">
            Welke structuur is verantwoordelijk voor de productie van progesteron tijdens de luteale fase van de menstruatiecyclus?
          </div>

          <!-- Image placeholder (click to show image) -->
          <div class="stem-image-container" onclick="this.innerHTML='<img class=\'stem-image\' src=\'https://images.unsplash.com/photo-1559757175-5700dde675bc?w=800&h=300&fit=crop\'><div class=\'image-overlay\'><button class=\'overlay-btn\'>üìÅ Replace</button><button class=\'overlay-btn ai\'>‚ú® AI Generate</button><button class=\'overlay-btn\'>‚úï Remove</button></div>'">
            <div class="stem-image-placeholder">
              <span style="font-size: 32px; opacity: 0.4;">üñºÔ∏è</span>
              <span>Add image (optional)</span>
              <div style="display: flex; gap: 8px; margin-top: 8px;">
                <button class="toolbar-btn" onclick="event.stopPropagation()">üìÅ Upload</button>
                <button class="toolbar-btn ai" onclick="event.stopPropagation()">‚ú® AI Generate</button>
              </div>
            </div>
          </div>

          <!-- Edit Toolbar -->
          <div class="edit-toolbar">
            <button class="toolbar-btn">ùêÅ</button>
            <button class="toolbar-btn">ùêº</button>
            <button class="toolbar-btn">UÃ≤</button>
            <button class="toolbar-btn" style="margin-left: 8px;">üîó Link</button>
            <button class="toolbar-btn ai">‚ú® AI Rewrite</button>
          </div>
        </div>

        <!-- Options Grid -->
        <div class="options-grid">
          <!-- Option A - Correct -->
          <div class="option-tile correct">
            <div class="option-image-container">
              <img class="option-image" src="https://images.unsplash.com/photo-1530026405186-ed1f139313f8?w=400&h=250&fit=crop" alt="Corpus luteum">
              <div class="image-overlay">
                <button class="overlay-btn">üìÅ Replace</button>
                <button class="overlay-btn ai">‚ú® AI</button>
              </div>
            </div>
            <div class="option-text-container">
              <span class="option-text" contenteditable="true">Corpus luteum</span>
            </div>
            <div class="option-toolbar">
              <button class="toolbar-btn ai">‚ú®</button>
              <button class="toolbar-btn set-correct-btn">‚úì Correct</button>
            </div>
          </div>

          <!-- Option B -->
          <div class="option-tile">
            <div class="option-image-container">
              <div class="option-image-placeholder">
                <span class="option-image-icon">üñºÔ∏è</span>
                <span>Add image</span>
              </div>
            </div>
            <div class="option-text-container">
              <span class="option-text" contenteditable="true">Follikel</span>
            </div>
            <div class="option-toolbar">
              <button class="toolbar-btn">üìÅ</button>
              <button class="toolbar-btn ai">‚ú®</button>
              <button class="toolbar-btn" style="margin-left: auto;">Set correct</button>
            </div>
          </div>

          <!-- Option C -->
          <div class="option-tile">
            <div class="option-image-container">
              <div class="option-image-placeholder">
                <span class="option-image-icon">üñºÔ∏è</span>
                <span>Add image</span>
              </div>
            </div>
            <div class="option-text-container">
              <span class="option-text" contenteditable="true">Endometrium</span>
            </div>
            <div class="option-toolbar">
              <button class="toolbar-btn">üìÅ</button>
              <button class="toolbar-btn ai">‚ú®</button>
              <button class="toolbar-btn" style="margin-left: auto;">Set correct</button>
            </div>
          </div>

          <!-- Option D -->
          <div class="option-tile">
            <div class="option-image-container">
              <div class="option-image-placeholder">
                <span class="option-image-icon">üñºÔ∏è</span>
                <span>Add image</span>
              </div>
            </div>
            <div class="option-text-container">
              <span class="option-text" contenteditable="true">Hypofyse</span>
            </div>
            <div class="option-toolbar">
              <button class="toolbar-btn">üìÅ</button>
              <button class="toolbar-btn ai">‚ú®</button>
              <button class="toolbar-btn" style="margin-left: auto;">Set correct</button>
            </div>
          </div>
        </div>

        <!-- Explanation Card -->
        <div class="explanation-card">
          <div class="explanation-header">
            <span class="explanation-label">üí° Explanation (shown after answer)</span>
            <div class="toggle-switch"></div>
          </div>
          <div class="explanation-text" contenteditable="true">
            Het <strong>corpus luteum</strong> (gele lichaam) is de structuur die ontstaat uit de geruptureerde follikel na de ovulatie. Het produceert progesteron tijdens de luteale fase, wat essentieel is voor het voorbereiden van het endometrium op een mogelijke innesteling.
          </div>
          <div class="edit-toolbar" style="opacity: 1; margin-top: 12px;">
            <button class="toolbar-btn ai">‚ú® AI Improve</button>
            <button class="toolbar-btn ai">üìù Generate from answer</button>
          </div>
        </div>

        <!-- Navigation -->
        <div class="exercise-nav">
          <button class="nav-btn">‚Üê Previous</button>
          <span class="nav-counter">Exercise 3 of 12</span>
          <button class="nav-btn">Next ‚Üí</button>
        </div>
      </div>
    </main>
  </div>
</body>
</html>

